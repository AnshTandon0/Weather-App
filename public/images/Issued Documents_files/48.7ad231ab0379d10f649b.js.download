(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{Ijzq:function(t,n,i){"use strict";i.r(n),i.d(n,"UhidPageModule",(function(){return b}));var e=i("mrSG"),o=i("fXoL"),r=i("ofXK"),a=i("3Pt+"),s=i("TEn/"),l=i("sYmb"),h=i("tyNb"),d=i("sRcL"),c=i("AytR");let u=class{constructor(t,n,i,e){this.formBuilder=t,this.ajax=n,this.navCtlr=i,this.platform=e,this.deviceSize=this.platform.isLandscape(),this.isSubmitted=!1,this.cChecked=!1,this.maxTime=120,this.cotp=!1,this.otp=!1,this.token=null,this.txnId=null,this.respMsg=null,this.otpShow=!1}ngAfterViewChecked(){this.uhidFetchForm.controls.uhid.valid||this.uhidElement.setFocus()}ngOnInit(){this.validationArray={uhid:[{value:"",disabled:!1},[a.f.required,a.f.maxLength(32),a.f.minLength(3)]],consent:[{value:null,disabled:!1},[a.f.required]],otp:[{value:null,disabled:!1},[]]},this.uhidFetchForm=this.formBuilder.group(this.validationArray)}submitUhidFetchForm(){if(this.isSubmitted=!0,!this.uhidFetchForm.valid)return!1;{this.ajax.showLoader();let t={"content-type":"application/json"},n=this.uhidFetchForm.value.otp?c.a.uhid_list_confirm_otp:c.a.uhid_list,i=this.uhidFetchForm.get("consent").value?"true":"false",e=this.uhidFetchForm.value.otp?{otp:this.uhidFetchForm.get("otp").value,txnId:this.txnId}:{healthid:this.uhidFetchForm.get("uhid").value,consent:i};this.token;this.ajax.postMethod(n,e,t).subscribe(t=>{null!=t.healthIdNumber&&(this.ajax.showToast("Your Health ID Number "+t.healthIdNumber+" is linked successfully,Your Health ID card is available in Issued Documents",3e3,"success","bottom"),this.navCtlr.navigateForward("issued-documents")),this.ajax.hideLoader(),null!=t.txnId&&(this.isSubmitted=!1,this.txnId=t.txnId,this.cotp=!0,this.otp=!0,this.StartTimer(),this.validationArray.uhid=[{value:this.uhidFetchForm.get("uhid").value,disabled:!0},[a.f.required,a.f.maxLength(32),a.f.minLength(3)]],this.validationArray.consent=[{value:this.uhidFetchForm.get("consent").value,disabled:!1},[a.f.required]],this.validationArray.otp=["",[a.f.required,a.f.pattern("^[0-9a-zA-Z]+$"),a.f.maxLength(6),a.f.minLength(6)]],this.uhidFetchForm=this.formBuilder.group(this.validationArray))})}}onTermsChecked(t){this.cChecked=!this.cChecked}get errorControl(){return this.uhidFetchForm.controls}resendOtp(){this.uhidFetchForm.value.otp="",this.maxTime=120,this.ajax.showLoader("");let t=c.a.uhid_list,n=this.uhidFetchForm.get("consent").value,i={healthid:this.uhidFetchForm.get("uhid").value,consent:n.toString()};this.ajax.postMethod(t,i,{"content-type":"application/json"}).subscribe(t=>{this.isSubmitted=!1,this.ajax.hideLoader(),this.respMsg=t,this.StartTimer()})}dismiss(){this.navCtlr.back()}changeType(t){this.otpShow=!this.otpShow}StartTimer(){setTimeout(t=>{this.maxTime>0&&(this.StartTimer(),this.maxTime=this.maxTime-1)},1e3)}};u.ctorParameters=()=>[{type:a.a},{type:d.a},{type:s.i},{type:s.k}],Object(e.c)([Object(o.nb)("uhid")],u.prototype,"uhidElement",void 0),u=Object(e.c)([Object(o.n)({selector:"app-uhid",template:Object(e.f)(i("S5b8")).default,styles:[Object(e.f)(i("PcQn")).default]})],u);const m=[{path:"",component:u},{path:"create-using-mobile",loadChildren:()=>i.e(46).then(i.bind(null,"zvCb")).then(t=>t.CreateUsingMobilePageModule)},{path:"create-using-aadhaar",loadChildren:()=>i.e(45).then(i.bind(null,"2zOn")).then(t=>t.CreateUsingAadhaarPageModule)}];let p=class{};p=Object(e.c)([Object(o.M)({imports:[h.i.forChild(m)],exports:[h.i]})],p);let b=class{};b=Object(e.c)([Object(o.M)({imports:[r.b,a.b,a.e,s.d,p,l.b.forChild()],declarations:[u]})],b)},PcQn:function(t,n,i){"use strict";i.r(n),n.default=".item.sc-ion-label-ios-h,\n.item .sc-ion-label-ios-h {\n  white-space: unset;\n}"},S5b8:function(t,n,i){"use strict";i.r(n),n.default='<ion-header>\r\n    <ion-toolbar>\r\n        <ion-buttons slot="start">\r\n            <ion-menu-button></ion-menu-button>\r\n        </ion-buttons>\r\n        <ion-title></ion-title>\r\n    </ion-toolbar>\r\n</ion-header>\r\n<ion-content class="ion-padding">\r\n    <ion-grid [fixed]="true">\r\n        <ion-toolbar>\r\n            <ion-title color="tertiary">\r\n                <strong>Health ID</strong>\r\n            </ion-title>\r\n            <ion-buttons slot="start">\r\n                <ion-button (click)="dismiss()" color="dark" fill="clear" shape="round" size="small">\r\n                    <ion-icon ios="arrow-back" md="arrow-back"></ion-icon>\r\n                </ion-button>\r\n            </ion-buttons>\r\n        </ion-toolbar>\r\n    </ion-grid>\r\n    <ion-grid [fixed]="true">\r\n        <ion-row>\r\n            <ion-col size-md="8">\r\n                <ion-card mode="ios" class="ion-padding ion-no-margin">\r\n                    <ion-row>\r\n                        <ion-col class="ion-padding">\r\n                            <ion-text color="tertiary" class="ion-no-margin ion-padding-start">\r\n                                <h3><strong>Get Your Health ID</strong>\r\n                                </h3>\r\n                            </ion-text>\r\n                        </ion-col>\r\n                    </ion-row>\r\n                    <form [formGroup]="uhidFetchForm" (ngSubmit)="submitUhidFetchForm()" novalidate>\r\n                        <ion-row>\r\n                            <ion-col size-md="4" size="12" *ngIf="deviceSize">\r\n                                <ion-item lines="none">\r\n                                    <ion-label>Health ID/Health ID Number</ion-label>\r\n                                </ion-item>\r\n                            </ion-col>\r\n                            <ion-col size-md="8" size="12">\r\n                                <ion-item lines="full" mode="md">\r\n                                    <ion-label position="floating" *ngIf="!deviceSize">Health ID/Health ID Number</ion-label>\r\n                                    <ion-input type="text" formControlName="uhid" [attr.disabled]="cotp" required #uhid minlength="3" maxlength="32"></ion-input>\r\n                                </ion-item>\r\n                                <p *ngIf="isSubmitted && errorControl.uhid.errors?.required">\r\n                                    <ion-text color="danger" class="ion-margin">\r\n                                        {{"Health id " | translate}} {{"Req" | translate}}\r\n                                    </ion-text>\r\n                                </p>\r\n                            </ion-col>\r\n                        </ion-row>\r\n                        <ion-row *ngIf="!cotp">\r\n                            <ion-col>\r\n                                <ion-list>\r\n                                    <ion-item lines="none" mode="md">\r\n                                        <ion-text>I provide my consent to DigiLocker to share my details with the NHA for the purpose of creating my Health ID.</ion-text>\r\n                                        <ion-checkbox slot="start" [checked]="cChecked" (ionChange)="onTermsChecked()" formControlName="consent" required></ion-checkbox>\r\n                                    </ion-item>\r\n                                </ion-list>\r\n                                <p *ngIf="isSubmitted && errorControl.consent.errors?.required">\r\n                                    <ion-text color="danger" class="ion-margin">\r\n                                        {{"Consent " | translate}} {{"Req" | translate}}\r\n                                    </ion-text>\r\n                                </p>\r\n                            </ion-col>\r\n                        </ion-row>\r\n                        <ion-row *ngIf="cotp">\r\n                            <ion-col size-md="4" size="12">\r\n                                <ion-item lines="none">\r\n                                    <ion-label>OTP</ion-label>\r\n                                </ion-item>\r\n                            </ion-col>\r\n                            <ion-col size-md="8" size="12">\r\n                                <ion-item lines="full">\r\n                                    <ion-input type="{{otpShow? \'text\': \'password\'}}" minlength="6" maxlength="6" (keypress)="ajax.numberOnlyValidation($event)" formControlName="otp" #otp>\r\n                                    </ion-input>\r\n                                    <ion-icon class="cursor" *ngIf="!errorControl.otp.pristine" (click)="changeType(\'otp\') " color="{{otpShow? \'primary\': \'dark\'}}" name="{{otpShow? \'eye\': \'eye-off\'}}" slot="end"></ion-icon>\r\n                                </ion-item>\r\n                                <p *ngIf="isSubmitted && errorControl.otp.errors?.required">\r\n                                    <ion-text color="danger" class="ion-margin">\r\n                                        OTP is required\r\n                                    </ion-text>\r\n                                </p>\r\n                                <ion-row>\r\n                                    <ion-col>\r\n                                        <ion-text *ngIf="otp" color="{{maxTime?\'dark\':\'primary\'}}">\r\n                                            {{(maxTime>0)?\'Wait for the OTP, if not received try resend otp after \'+maxTime+\' seconds\':\'\'}}\r\n\r\n                                        </ion-text>\r\n                                        <ion-text *ngIf="!maxTime && otp" (click)="resendOtp()" type="submit" fill="clear" size="small" class="cursor" color="primary">Resend OTP\r\n                                        </ion-text>\r\n                                    </ion-col>\r\n                                </ion-row>\r\n                            </ion-col>\r\n                        </ion-row>\r\n                        <ion-button type="submit" color="primary" class="ion-float-right">\r\n                            {{(uhidFetchForm.value.otp)?\'Verify\':\'Continue\'}}</ion-button>\r\n\r\n                    </form>\r\n                </ion-card>\r\n                <p class="ion-text-center">Don\'t have Health ID?\r\n                    <ion-text routerLink="/uhid/create-using-aadhaar" routerDirection="forward" class="cursor" color="primary">Register Now!</ion-text>\r\n                </p>\r\n            </ion-col>\r\n            <ion-col size-md="4" class="ion-no-padding" *ngIf="deviceSize">\r\n                <ion-card mode="ios" color="warning" class="ion-no-margin-top">\r\n                    <ion-card-content>\r\n                        <ion-text>\r\n                            <h4>Health ID is a hassle-free method of accessing your health records digitally. The Health ID can be used at a participating healthcare facility to receive your lab reports, prescriptions and diagnosis digitally.</h4>\r\n                            <a href="https://ndhm.gov.in/home/faq" target="_blank">Know More</a>\r\n                        </ion-text>\r\n                    </ion-card-content>\r\n                </ion-card>\r\n            </ion-col>\r\n        </ion-row>\r\n    </ion-grid>\r\n</ion-content>'}}]);