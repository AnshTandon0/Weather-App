(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{"2zOn":function(r,n,t){"use strict";t.r(n),t.d(n,"CreateUsingAadhaarPageModule",(function(){return b}));var i=t("mrSG"),o=t("fXoL"),e=t("ofXK"),a=t("3Pt+"),s=t("TEn/"),l=t("sYmb"),d=t("tyNb"),h=t("sRcL"),c=t("AytR");let m=class{constructor(r,n,t,i){this.formBuilder=r,this.ajax=n,this.navCtlr=t,this.platform=i,this.deviceSize=this.platform.isLandscape(),this.isSubmitted=!1,this.txnId=null,this.cotp=!1,this.otpShow=!1,this.maxTime=120}ngAfterViewChecked(){this.uhidByAadhaarForm.controls.aadhaar.valid||this.aadhaarElement.setFocus(),this.uhidByAadhaarForm.controls.otp.valid||this.otpElement.setFocus()}ngOnInit(){this.validationArray={aadhaar:[{value:"",disabled:!1},[a.f.required,a.f.pattern("^[0-9]+$"),a.f.maxLength(12),a.f.minLength(12)]],consent:[{value:null,disabled:!1},[a.f.required]],otp:[{value:"",disabled:!1},[]],healthId:[{value:"",disabled:!1},[a.f.pattern("^[0-9A-Za-z]+$")]]},this.uhidByAadhaarForm=this.formBuilder.group(this.validationArray)}submitUhidByAadhaarForm(){if(this.isSubmitted=!0,!this.uhidByAadhaarForm.valid)return!1;{this.ajax.showLoader();let r={"content-type":"application/json"},n=this.uhidByAadhaarForm.value.otp?c.a.uhid_verify_aadhaar_otp:c.a.uhid_generate_aadhaar_otp,t=this.uhidByAadhaarForm.get("consent").value?"true":"false",i=this.uhidByAadhaarForm.value.otp?{otp:this.uhidByAadhaarForm.get("otp").value,txnId:this.txnId,username:this.uhidByAadhaarForm.get("healthId").value.trim()}:{aadhaar:this.uhidByAadhaarForm.get("aadhaar").value,consent:t};this.ajax.postMethod(n,i,r).subscribe(r=>{null!=r.healthIdNumber&&(this.ajax.showToast("Your Health ID Number "+r.healthIdNumber+" is generated successfully,Your Health ID card is available in Issued Documents",3e3,"success","bottom"),this.navCtlr.navigateForward("issued-documents")),this.ajax.hideLoader(),null!=r.txnId&&(this.isSubmitted=!1,this.txnId=r.txnId,this.cotp=!0,this.StartTimer(),this.validationArray.aadhaar=[{value:this.uhidByAadhaarForm.get("aadhaar").value,disabled:!0},[a.f.required,a.f.pattern("^[0-9]+$"),a.f.maxLength(10),a.f.minLength(10)]],this.validationArray.consent=[{value:this.uhidByAadhaarForm.get("consent").value,disabled:!1},[a.f.required]],this.validationArray.otp=["",[a.f.required,a.f.pattern("^[0-9]+$"),a.f.maxLength(6),a.f.minLength(6)]],this.validationArray.healthId=["",[a.f.required,a.f.pattern("^[0-9A-Za-z]+$")]],this.uhidByAadhaarForm=this.formBuilder.group(this.validationArray))})}}get errorControl(){return this.uhidByAadhaarForm.controls}changeType(r){this.otpShow=!this.otpShow}resendOtp(){this.maxTime=120,this.uhidByAadhaarForm.value.otp="";let r=c.a.uhid_regenerate_aadhaar_otp,n={txnId:this.txnId};this.ajax.postMethod(r,n,{}).subscribe(r=>{this.isSubmitted=!1,this.StartTimer()})}StartTimer(){setTimeout(r=>{this.maxTime>0&&(this.StartTimer(),this.maxTime=this.maxTime-1)},1e3)}dismiss(){this.navCtlr.back()}};m.ctorParameters=()=>[{type:a.a},{type:h.a},{type:s.i},{type:s.k}],Object(i.c)([Object(o.nb)("aadhaar")],m.prototype,"aadhaarElement",void 0),Object(i.c)([Object(o.nb)("otp")],m.prototype,"otpElement",void 0),m=Object(i.c)([Object(o.n)({selector:"app-create-using-aadhaar",template:Object(i.f)(t("RiXK")).default,styles:[Object(i.f)(t("pEiW")).default]})],m);const u=[{path:"",component:m}];let p=class{};p=Object(i.c)([Object(o.M)({imports:[d.i.forChild(u)],exports:[d.i]})],p);let b=class{};b=Object(i.c)([Object(o.M)({imports:[e.b,a.b,a.e,s.d,l.b.forChild(),p],declarations:[m]})],b)},RiXK:function(r,n,t){"use strict";t.r(n),n.default='<ion-header>\r\n    <ion-toolbar>\r\n        <ion-buttons slot="start">\r\n            <ion-menu-button></ion-menu-button>\r\n        </ion-buttons>\r\n        <ion-title></ion-title>\r\n    </ion-toolbar>\r\n</ion-header>\r\n<ion-content class="ion-padding">\r\n    <ion-grid [fixed]="true">\r\n        <ion-toolbar>\r\n            <ion-title color="tertiary">\r\n                <strong>Create your Health ID using Aadhaar Number</strong>\r\n            </ion-title>\r\n            <ion-buttons slot="start">\r\n                <ion-button (click)="dismiss()" color="dark" fill="clear" shape="round" size="small">\r\n                    <ion-icon ios="arrow-back" md="arrow-back"></ion-icon>\r\n                </ion-button>\r\n            </ion-buttons>\r\n        </ion-toolbar>\r\n    </ion-grid>\r\n    <ion-grid [fixed]="true">\r\n        <ion-row>\r\n            <ion-col size-md="8">\r\n                <ion-card mode="ios" class="ion-padding ion-no-margin">\r\n                    <form [formGroup]="uhidByAadhaarForm" (ngSubmit)="submitUhidByAadhaarForm()" novalidate>\r\n                        <div>\r\n                            <ion-row>\r\n                                <ion-col size-md="4" size="12" *ngIf="deviceSize">\r\n                                    <ion-item lines="none">\r\n                                        <ion-label>Aadhaar Number</ion-label>\r\n                                    </ion-item>\r\n                                </ion-col>\r\n                                <ion-col size-md="8" size="12">\r\n                                    <ion-item lines="full" mode="md">\r\n                                        <ion-label position="floating" *ngIf="!deviceSize">Aadhaar Number</ion-label>\r\n                                        <ion-input type="text" formControlName="aadhaar" minlength="12" maxlength="12" (keypress)="ajax.numberOnlyValidation($event)" [attr.disabled]="cotp" required #aadhaar></ion-input>\r\n                                    </ion-item>\r\n                                    <p *ngIf="isSubmitted && errorControl.aadhaar.errors?.required">\r\n                                        <ion-text color="danger" class="ion-margin">\r\n                                            Aadhaar Number is required\r\n                                        </ion-text>\r\n                                    </p>\r\n                                </ion-col>\r\n                            </ion-row>\r\n                            <ion-row *ngIf="!cotp">\r\n                                <ion-col>\r\n                                    <ion-list>\r\n                                        <ion-item lines="none" mode="md">\r\n                                            <ion-text>I provide my consent to DigiLocker to share my details with the NHA for the purpose of creating my Health ID.</ion-text>\r\n                                            <ion-checkbox slot="start" formControlName="consent" [checked]="cChecked" [attr.disabled]="cotp" required></ion-checkbox>\r\n                                        </ion-item>\r\n                                    </ion-list>\r\n                                    <p *ngIf="isSubmitted && errorControl.consent.errors?.required">\r\n                                        <ion-text color="danger" class="ion-margin">\r\n                                            {{"Consent " | translate}} {{"Req" | translate}}\r\n                                        </ion-text>\r\n                                    </p>\r\n                                </ion-col>\r\n                            </ion-row>\r\n                            <ion-row *ngIf="!cotp">\r\n                                <ion-col>\r\n                                    <ion-item lines="none">\r\n                                        <ion-label>\r\n                                            <ion-text routerLink="/uhid/create-using-mobile" routerDirection="root" class="cursor ion-margin-left" color="primary">Register with mobile</ion-text>\r\n                                        </ion-label>\r\n                                    </ion-item>\r\n                                </ion-col>\r\n                            </ion-row>\r\n                            <ion-row *ngIf="cotp">\r\n                                <ion-col size-md="4" size="12">\r\n                                    <ion-item lines="none">\r\n                                        <ion-label>OTP</ion-label>\r\n                                    </ion-item>\r\n                                </ion-col>\r\n                                <ion-col size-md="8" size="12">\r\n                                    <ion-item lines="full">\r\n                                        <ion-input type="{{otpShow? \'text\': \'password\'}}" minlength="6" maxlength="6" (keypress)="ajax.numberOnlyValidation($event)" formControlName="otp" #otp></ion-input>\r\n                                        <ion-icon class="cursor" *ngIf="!errorControl.otp.pristine" (click)="changeType(\'otp\') " color="{{otpShow? \'primary\': \'dark\'}}" name="{{otpShow? \'eye\': \'eye-off\'}}" slot="end"></ion-icon>\r\n                                    </ion-item>\r\n                                    <p *ngIf="isSubmitted && errorControl.otp.errors?.required">\r\n                                        <ion-text color="danger" class="ion-margin">\r\n                                            OTP is required\r\n                                        </ion-text>\r\n                                    </p>\r\n                                    <ion-row>\r\n                                        <ion-col>\r\n                                            <ion-text *ngIf="otp" color="{{maxTime?\'dark\':\'primary\'}}">\r\n                                                {{(maxTime>0)?\'Wait for the OTP, if not received try resend otp after \'+maxTime+\' second\':\'\'}}\r\n\r\n                                            </ion-text>\r\n                                            <p *ngIf="!maxTime && otp" class="ion-no-margin-top">\r\n                                                <ion-text (click)="resendOtp()" type="submit" fill="clear" size="small" class="cursor" color="primary">Resend OTP</ion-text>\r\n                                            </p>\r\n                                        </ion-col>\r\n                                    </ion-row>\r\n                                </ion-col>\r\n                            </ion-row>\r\n                            <ion-row *ngIf="cotp">\r\n                                <ion-col size-md="4" size="12">\r\n                                    <ion-item lines="none">\r\n                                        <ion-label>Enter Health ID</ion-label>\r\n                                    </ion-item>\r\n                                </ion-col>\r\n                                <ion-col size-md="8" size="12">\r\n                                    <ion-item lines="full">\r\n                                        <ion-input type="text" formControlName="healthId" required></ion-input>\r\n                                        <b>@ndhm</b>\r\n                                    </ion-item>\r\n                                        <ion-text color="danger" class="ion-margin" *ngIf="isSubmitted && errorControl.healthId.errors?.required">\r\n                                            Health ID is required\r\n                                        </ion-text>\r\n                                        <ion-text color="danger" class="ion-margin" *ngIf="errorControl.healthId.errors?.pattern">\r\n                                            Only characters and numbers allowed.\r\n                                        </ion-text>\r\n                                </ion-col>\r\n                            </ion-row>\r\n                        </div>\r\n                        <ion-button type="submit" color="primary" class="ion-float-right">Continue</ion-button>\r\n                    </form>\r\n                </ion-card>\r\n                <p *ngIf="!cotp" class="ion-text-center">Already have health ID?\r\n                    <ion-text routerLink="/uhid" routerDirection="root" class="cursor" color="primary">Get you Health ID card</ion-text>\r\n                </p>\r\n                <p *ngIf="cotp && !maxTime " class="ion-text-center">Did not get OTP?\r\n                    <ion-text routerLink="/uhid/create-using-mobile" routerDirection="root" class="cursor" color="primary">Register with mobile</ion-text>\r\n                </p>\r\n            </ion-col>\r\n            <ion-col size-md="4" class="ion-no-padding" *ngIf="deviceSize">\r\n                <ion-card mode="ios" color="warning" class="ion-no-margin-top">\r\n                    <ion-card-content>\r\n                        <ion-text>\r\n                            <h4>Health ID is a hassle-free method of accessing your health records digitally. The Health ID can be used at a participating healthcare facility to receive your lab reports, prescriptions and diagnosis digitally.</h4>\r\n                            <a href="https://ndhm.gov.in/home/faq" target="_blank">Know More</a>\r\n                        </ion-text>\r\n                    </ion-card-content>\r\n                </ion-card>\r\n            </ion-col>\r\n        </ion-row>\r\n    </ion-grid>\r\n</ion-content>'},pEiW:function(r,n,t){"use strict";t.r(n),n.default=""}}]);