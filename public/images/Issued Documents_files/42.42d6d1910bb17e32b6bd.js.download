(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{"723k":function(n,i,e){"use strict";e.r(i),e.d(i,"ProfilePageModule",(function(){return N}));var o=e("mrSG"),r=e("fXoL"),t=e("ofXK"),l=e("3Pt+"),s=e("sYmb"),a=e("TEn/"),c=e("tyNb"),d=e("AytR"),m=e("sRcL"),p=e("9ans"),f=e("WAqu"),u=e("y5PO"),h=e("DMre"),b=e("pZaC"),g=e("CapT"),D=e("goW5"),y=e("jhN1");let z=class{constructor(n,i,e,o,r,t){this.ajax=n,this.modalController=i,this.alertCtrl=e,this.auth=o,this.navCtlr=r,this.titleService=t,this.profile=null,this.profileData=[],this.getNominee=null,this.verifiedUserTypes=[]}ionViewDidEnter(){this.titleService.setTitle("Profile")}ngOnInit(){this.profile=this.auth.userProfile(),this.verifiedUserTypes=d.a.verified_user_type,this.getProfileDetails(),this.verifiedUserTypes.includes(this.profile.user_type)&&this.getNomineeDetails()}getProfileDetails(){return Object(o.b)(this,void 0,void 0,(function*(){yield this.ajax.postMethod(d.a.profile,"",{}).subscribe(n=>{n.customDob=n.date_of_birth?n.date_of_birth.slice(0,10):null,this.profileData=n})}))}getNomineeDetails(){return Object(o.b)(this,void 0,void 0,(function*(){yield this.ajax.postMethod(d.a.get_nominee,"",{}).subscribe(n=>{this.getNominee=n})}))}updateProfile(){return Object(o.b)(this,void 0,void 0,(function*(){const n=yield this.modalController.create({component:D.a,cssClass:"my-custom-class",swipeToClose:!0,componentProps:{profile:this.profileData}});n.present(),n.onDidDismiss().then(n=>{n.data.dismissed&&this.getProfileDetails()})}))}updateMobile(){return Object(o.b)(this,void 0,void 0,(function*(){const n=yield this.modalController.create({component:f.a,cssClass:"my-custom-class",swipeToClose:!0,componentProps:{profile:this.profileData}});n.present(),n.onDidDismiss().then(n=>{n.data.dismissed&&this.getProfileDetails()})}))}updateEmail(){return Object(o.b)(this,void 0,void 0,(function*(){const n=yield this.modalController.create({component:u.a,cssClass:"my-custom-class",swipeToClose:!0,componentProps:{profile:this.profileData}});n.present(),n.onDidDismiss().then(n=>{n.data.dismissed&&this.getProfileDetails()})}))}verifyEmail(){return Object(o.b)(this,void 0,void 0,(function*(){const n=yield this.modalController.create({component:h.a,cssClass:"my-custom-class",swipeToClose:!0,componentProps:{profile:this.profileData}});n.present(),n.onDidDismiss().then(n=>{n.data.dismissed&&this.getProfileDetails()})}))}updatePIN(){return Object(o.b)(this,void 0,void 0,(function*(){const n=yield this.modalController.create({component:b.a,cssClass:"my-custom-class",swipeToClose:!0,componentProps:{profile:this.profileData}});n.present(),n.onDidDismiss().then(n=>{n.data.dismissed&&this.getProfileDetails()})}))}addNominee(){return Object(o.b)(this,void 0,void 0,(function*(){this.navCtlr.navigateRoot("profile/add-nominee",{state:this.profileData})}))}viewNominee(){return Object(o.b)(this,void 0,void 0,(function*(){(yield this.modalController.create({component:g.a,cssClass:"my-custom-class",swipeToClose:!0,componentProps:{nominee:this.getNominee}})).present()}))}deleteNominee(){return Object(o.b)(this,void 0,void 0,(function*(){const n=yield this.alertCtrl.create({header:"Delete Nominee?",message:"Would you like to delete "+this.getNominee.name+" as nominee?",buttons:[{text:"Cancel",role:"cancel",cssClass:"primary"},{text:"Delete",role:"delete",cssClass:"danger"}]});n.present(),n.onDidDismiss().then(n=>{if("delete"==n.role){let n=encodeURI("username="+this.getNominee.username+"&nominee_id="+this.getNominee.nominee_id);this.ajax.postMethod(d.a.delete_nominee,n,{}).subscribe(n=>{"success"==n.status?(this.ajax.showToast("Nominee deleted successfully.",3e3,"success","bottom"),this.getNomineeDetails()):this.ajax.showToast(n.error_description,3e3,"danger","bottom")})}})}))}};z.ctorParameters=()=>[{type:m.a},{type:a.h},{type:a.a},{type:p.a},{type:a.i},{type:y.d}],z=Object(o.c)([Object(r.n)({selector:"app-profile",template:Object(o.f)(e("VVTS")).default,styles:[Object(o.f)(e("EGjV")).default]})],z);const w=[{path:"",component:z},{path:"add-nominee",loadChildren:()=>e.e(41).then(e.bind(null,"UJ48")).then(n=>n.AddNomineePageModule)}];let x=class{};x=Object(o.c)([Object(r.M)({imports:[c.i.forChild(w)],exports:[c.i]})],x);let N=class{};N=Object(o.c)([Object(r.M)({imports:[t.b,l.b,a.d,x,s.b.forChild()],declarations:[z]})],N)},EGjV:function(n,i,e){"use strict";e.r(i),i.default="ion-card-header {\n  padding-top: 2px !important;\n  padding-bottom: 2px !important;\n}\n\nion-card-header {\n  --ion-background-color: #f8f9fc !important;\n  --background: #f8f9fc !important;\n}\n\nion-card-header ion-toolbar {\n  min-height: 0px !important;\n  --min-height:0px;\n  --max-height: 22px;\n}\n\nion-card-header ion-icon {\n  pointer-events: none !important;\n}\n\n.toolbar-background {\n  background: #f8f9fc;\n}"},VVTS:function(n,i,e){"use strict";e.r(i),i.default='<ion-header>\r\n    <ion-toolbar>\r\n        <ion-buttons slot="start">\r\n            <ion-menu-button></ion-menu-button>\r\n        </ion-buttons>\r\n        <ion-title></ion-title>\r\n    </ion-toolbar>\r\n</ion-header>\r\n<ion-content class="ion-padding">\r\n    <ion-grid [fixed]="true">\r\n        <ion-row>\r\n            <ion-col size="12">\r\n                <ion-text color="tertiary">\r\n                    <h2><strong>\r\n                        {{"Digilocker Profile" | translate}}\r\n                    </strong>\r\n                    </h2>\r\n                </ion-text>\r\n\r\n                <ion-text>\r\n                    <h4>{{"Here you can find or change user & account information and also add or delete the nominee to your DigiLocker Account." | translate}}\r\n                    </h4>\r\n                </ion-text>\r\n\r\n            </ion-col>\r\n        </ion-row>\r\n\r\n        <ion-row class="ion-no-padding ion-margin-top">\r\n            <ion-col size="12" size-xl="10" class="ion-no-padding ion-no-margin">\r\n\r\n                <ion-card mode="ios" class="ion-no-margin ">\r\n                    <ion-card-header>\r\n                        <ion-grid>\r\n                            <ion-row>\r\n                                <ion-col>\r\n\r\n                                    <ion-buttons class="ion-float-end">\r\n                                        <ion-button *ngIf="profileData.user_type && !verifiedUserTypes.includes(profileData.user_type)" (click)="updateProfile()" size="big" color="primary" fill="clear">\r\n                                            {{"Edit" | translate}}\r\n                                        </ion-button>\r\n                                    </ion-buttons>\r\n                                    <ion-card-title color="tertiary" class="text-16" style="padding-top: 5px; width: 80%;">{{"User Details" | translate}}</ion-card-title>\r\n\r\n                                </ion-col>\r\n                            </ion-row>\r\n                        </ion-grid>\r\n                    </ion-card-header>\r\n\r\n                    <ion-item lines="full">\r\n                        <ion-grid>\r\n                            <ion-row>\r\n                                <ion-col size="12" size-md="2">\r\n                                    <ion-label>{{"Name" | translate}}</ion-label>\r\n                                </ion-col>\r\n                                <ion-col size-md="1" class="ion-hide">\r\n                                    <ion-label>:</ion-label>\r\n                                </ion-col>\r\n                                <ion-col size="12" size-md="8">\r\n                                    <ion-label>{{(profileData.residentName)?profileData.residentName:null}}\r\n                                        <ion-skeleton-text *ngIf="profileData.length==0" animated style="width: 50%"></ion-skeleton-text>\r\n                                    </ion-label>\r\n                                </ion-col>\r\n                                <ion-col size-md="1">\r\n                                    <ion-label></ion-label>\r\n                                </ion-col>\r\n                            </ion-row>\r\n                        </ion-grid>\r\n                    </ion-item>\r\n                    <ion-item lines="full">\r\n                        <ion-grid>\r\n                            <ion-row>\r\n                                <ion-col size="12" size-md="2">\r\n                                    <ion-label>{{"DOB" | translate}}</ion-label>\r\n                                </ion-col>\r\n                                <ion-col size-md="1" class="ion-hide">\r\n                                    <ion-label>:</ion-label>\r\n                                </ion-col>\r\n                                <ion-col size="12" size-md="8">\r\n                                    <ion-label>\r\n                                        \x3c!--{{profileData.date_of_birth | date : \'dd-MM-yyyy\':\'IST\'}}--\x3e\r\n                                        {{(profileData.customDob)?(profileData.customDob | date : \'dd-MM-yyyy\':\'IST\'):null}}\r\n                                        <ion-skeleton-text *ngIf="profileData.length==0" animated style="width: 50%"></ion-skeleton-text>\r\n                                    </ion-label>\r\n                                </ion-col>\r\n                                <ion-col size-md="1">\r\n                                    <ion-label></ion-label>\r\n                                </ion-col>\r\n                            </ion-row>\r\n                        </ion-grid>\r\n                    </ion-item>\r\n                    <ion-item lines="full">\r\n                        <ion-grid>\r\n                            <ion-row>\r\n                                <ion-col size="12" size-md="2">\r\n                                    <ion-label>{{"Gender" | translate}}</ion-label>\r\n                                </ion-col>\r\n                                <ion-col size-md="1" class="ion-hide">\r\n                                    <ion-label>:</ion-label>\r\n                                </ion-col>\r\n                                <ion-col size="12" size-md="8">\r\n                                    <ion-label>\r\n                                        {{((profileData.gender==\'M\')?\'Male\':(profileData.gender==\'F\')?\'Female\':(profileData.gender==\'O\')?\'Other\':\'\') | translate}}\r\n                                        <ion-skeleton-text *ngIf="profileData.length==0" animated style="width: 50%"></ion-skeleton-text>\r\n                                    </ion-label>\r\n                                </ion-col>\r\n                                <ion-col size-md="1">\r\n                                    <ion-label></ion-label>\r\n                                </ion-col>\r\n                            </ion-row>\r\n                        </ion-grid>\r\n                    </ion-item>\r\n                    <ion-item lines="full">\r\n                        <ion-grid>\r\n                            <ion-row>\r\n                                <ion-col size="12" size-md="2">\r\n                                    <ion-label>{{"Mobile" | translate}}</ion-label>\r\n                                </ion-col>\r\n                                <ion-col size-md="1" class="ion-hide">\r\n                                    <ion-label>:</ion-label>\r\n                                </ion-col>\r\n                                <ion-col size="10" size-md="8">\r\n                                    <ion-text>\r\n                                        {{profileData.mobile?profileData.mobile:(profileData.length)?\'\':\'\'}}\r\n                                    </ion-text>\r\n                                    <ion-text size="small" color="primary" class="cursor" *ngIf="!profileData.mobile" (click)="updateMobile()">\r\n                                        Add Mobile\r\n                                    </ion-text>\r\n                                    <ion-skeleton-text *ngIf="profileData.length==0" animated style="width: 50%"></ion-skeleton-text>\r\n\r\n                                </ion-col>\r\n                                <ion-col size-md="1" size="2" class="ion-text-right">\r\n                                    <ion-icon name="create" *ngIf="profileData.mobile" (click)="updateMobile()" class="cursor" color="primary"></ion-icon>\r\n\r\n                                </ion-col>\r\n                            </ion-row>\r\n                        </ion-grid>\r\n                    </ion-item>\r\n                    <ion-item lines="full">\r\n                        <ion-grid>\r\n                            <ion-row>\r\n                                <ion-col size="12" size-md="2">\r\n                                    <ion-label>{{"Email" | translate}}</ion-label>\r\n                                </ion-col>\r\n                                <ion-col size-md="1" class="ion-hide">\r\n                                    <ion-label>:</ion-label>\r\n                                </ion-col>\r\n                                <ion-col size="10" size-md="7">\r\n                                    <ion-text>\r\n                                        {{profileData.email?profileData.email:(profileData.length)?\'\':\'\'}}\r\n                                    <span class ="cursor" title="Verify Email"> \r\n                                        <ion-icon *ngIf="profileData.email && profileData.email_verified==\'N\'" (click)="verifyEmail()" name="{{(profileData.email_verified==\'Y\')?\'checkmark-circle\':\'alert-circle-outline\'}}" style="pointer-events: none !important" title="Verify Email" color="{{(profileData.email_verified==\'Y\')?\'success\':\'danger\'}}"\r\n                                            title="Not Verified"></ion-icon>\r\n                                        </span>\r\n                                    </ion-text>\r\n                                    <ion-text size="small" color="primary" class="cursor" *ngIf="!profileData.email && profileData.email_verified ==\'N\'" (click)="updateEmail()">\r\n                                        {{"AddEmail" | translate}}\r\n                                    </ion-text>\r\n                                    <ion-skeleton-text animated *ngIf="profileData.length==0" style="width: 50%"></ion-skeleton-text>\r\n\r\n                                </ion-col>\r\n                                <ion-col size-md="2" size="2" class="ion-text-right">\r\n                                    \x3c!-- <ion-icon *ngIf="profileData.email_verified==\'N\'" class="cursor" color="success" name="finger-print-outline"></ion-icon>--\x3e\r\n\r\n                                    <ion-icon name="{{(profileData.email)?\'create\':\'\'}}" *ngIf="profileData.mobile" (click)="updateEmail()" class="cursor" color="primary"></ion-icon>\r\n\r\n                                </ion-col>\r\n                            </ion-row>\r\n                        </ion-grid>\r\n                    </ion-item>\r\n                </ion-card>\r\n\r\n                <ion-card mode="ios" class="ion-no-margin ion-margin-top">\r\n                    <ion-card-header>\r\n                        <ion-grid>\r\n                            <ion-row>\r\n                                <ion-col>\r\n                                    <ion-card-title color="tertiary" class="text-16">{{"Account Details" | translate}}</ion-card-title>\r\n                                </ion-col>\r\n                            </ion-row>\r\n                        </ion-grid>\r\n                    </ion-card-header>\r\n                    <ion-item lines="full" *ngIf="profileData.user_alias">\r\n                        <ion-grid>\r\n                            <ion-row>\r\n                                <ion-col size="12" size-md="2">\r\n                                    <ion-label>{{"Username" | translate}}</ion-label>\r\n                                </ion-col>\r\n                                <ion-col size-md="1" class="ion-hide">\r\n                                    <ion-label>:</ion-label>\r\n                                </ion-col>\r\n                                <ion-col size="12" size-md="8">\r\n                                    <ion-label>{{profileData.user_alias}}</ion-label>\r\n                                    <ion-skeleton-text *ngIf="profileData.length==0" animated style="width: 50%"></ion-skeleton-text>\r\n                                </ion-col>\r\n                                <ion-col size-md="1">\r\n                                    <ion-label> </ion-label>\r\n                                </ion-col>\r\n                            </ion-row>\r\n                        </ion-grid>\r\n                    </ion-item>\r\n                    <ion-item lines="full">\r\n                        <ion-grid>\r\n                            <ion-row>\r\n                                <ion-col size="12" size-md="2">\r\n                                    <ion-label>{{"Security PIN" | translate}}</ion-label>\r\n                                </ion-col>\r\n                                <ion-col size-md="1" class="ion-hide">\r\n                                    <ion-label>:</ion-label>\r\n                                </ion-col>\r\n                                <ion-col size="10" size-md="8">\r\n                                    <ion-label>{{profileData.user_name?\'******\':\'\'}}</ion-label>\r\n                                    <ion-skeleton-text *ngIf="profileData.length==0" animated style="width: 50%"></ion-skeleton-text>\r\n                                </ion-col>\r\n                                <ion-col size-md="1" size="2" class="ion-text-right">\r\n                                    <ion-icon name="create" (click)="updatePIN()" *ngIf="profileData.user_name" class="cursor" color="primary"></ion-icon>\r\n\r\n                                </ion-col>\r\n                            </ion-row>\r\n                        </ion-grid>\r\n                    </ion-item>\r\n                </ion-card>\r\n\r\n                <ion-card mode="ios" *ngIf="getNominee" class="ion-no-margin ion-margin-top">\r\n                    <ion-card-header>\r\n                        <ion-grid>\r\n                            <ion-row>\r\n                                <ion-col>\r\n                                    <ion-card-title color="tertiary" class="text-16">{{"Nominee Details" | translate}}</ion-card-title>\r\n                                </ion-col>\r\n                            </ion-row>\r\n                        </ion-grid>\r\n                    </ion-card-header>\r\n\r\n                    <ion-grid *ngIf="getNominee.status==\'error\'">\r\n                        <ion-row>\r\n                            <ion-col>\r\n                                <ion-item lines="none">\r\n\r\n                                    <ion-button (click)="addNominee()" title="Add Nominee" size="small" color="warning" fill="solid" slot="start">\r\n                                        {{"Add Nominee" | translate}}\r\n                                    </ion-button>\r\n\r\n\r\n                                </ion-item>\r\n                            </ion-col>\r\n                        </ion-row>\r\n                    </ion-grid>\r\n                    <ion-item lines="full" *ngIf="getNominee.status==\'success\'">\r\n                        <ion-grid>\r\n                            <ion-row>\r\n                                <ion-col size="12" size-md="2">\r\n                                    <ion-label *ngIf="getNominee.status==\'success\'">{{"Name" | translate}}</ion-label>\r\n                                </ion-col>\r\n                                <ion-col size-md="1" class="ion-hide">\r\n                                    <ion-label *ngIf="getNominee.status==\'success\'">:</ion-label>\r\n                                </ion-col>\r\n                                <ion-col size="10" size-md="7">\r\n                                    <ion-label *ngIf="getNominee.status==\'success\'">{{getNominee.name}}</ion-label>\r\n                                    <ion-label *ngIf="!getNominee.status">\r\n                                        <ion-skeleton-text animated style="width: 50%"></ion-skeleton-text>\r\n                                    </ion-label>\r\n\r\n                                </ion-col>\r\n                                <ion-col size-md="2" size="2">\r\n                                    <ion-row class="ion-float-end">\r\n\r\n\r\n                                        <ion-label *ngIf="getNominee.status==\'success\'" class=" ion-margin-end">\r\n                                            <ion-icon (click)="viewNominee()" name="eye" class="cursor" color="primary"></ion-icon>\r\n                                        </ion-label>\r\n\r\n                                        <ion-label *ngIf="getNominee.status==\'success\'">\r\n                                            <ion-icon (click)="deleteNominee()" name="trash" class="cursor" color="danger"></ion-icon>\r\n                                        </ion-label>\r\n\r\n                                    </ion-row>\r\n                                </ion-col>\r\n                            </ion-row>\r\n                        </ion-grid>\r\n                    </ion-item>\r\n                </ion-card>\r\n            </ion-col>\r\n        </ion-row>\r\n    </ion-grid>\r\n</ion-content>'}}]);