(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{WVvX:function(i,o,t){"use strict";t.r(o),o.default="ion-radio-group ion-label {\n  font-size: 15px;\n}"},iAnF:function(i,o,t){"use strict";t.r(o),o.default='<ion-header>\r\n    <ion-toolbar>\r\n        <ion-buttons slot="start">\r\n            <ion-menu-button></ion-menu-button>\r\n        </ion-buttons>\r\n        <ion-title></ion-title>\r\n    </ion-toolbar>\r\n</ion-header>\r\n<ion-content class="ion-padding">\r\n    <ion-grid [fixed]="true">\r\n        <ion-toolbar>\r\n            <ion-title color="tertiary">\r\n                <strong>Create your Health ID using Mobile Number</strong>\r\n            </ion-title>\r\n            <ion-buttons slot="start">\r\n                <ion-button (click)="dismiss()" color="dark" fill="clear" shape="round" size="small">\r\n                    <ion-icon ios="arrow-back" md="arrow-back"></ion-icon>\r\n                </ion-button>\r\n            </ion-buttons>\r\n        </ion-toolbar>\r\n    </ion-grid>\r\n    <ion-grid [fixed]="true">\r\n        <ion-row>\r\n            <ion-col size-md="8">\r\n                <ion-card mode="ios" class="ion-padding ion-no-margin">\r\n                    <form [formGroup]="uhidByMobileForm" (ngSubmit)="submitUhidByMobileForm()" novalidate>\r\n                        <div>\r\n                            <ion-row>\r\n                                <ion-col size-md="4" size="12" *ngIf="deviceSize">\r\n                                    <ion-item lines="none">\r\n                                        <ion-label>Mobile Number</ion-label>\r\n                                    </ion-item>\r\n                                </ion-col>\r\n                                <ion-col size-md="8" size="12">\r\n                                    <ion-item lines="full" mode="md">\r\n                                        <ion-label position="floating" *ngIf="!deviceSize">Mobile Number</ion-label>\r\n                                        <ion-input type="text" formControlName="mobile" (keypress)="ajax.numberOnlyValidation($event)" minlength="10" maxlength="10" [attr.disabled]="cotp" required #mobile></ion-input>\r\n                                    </ion-item>\r\n                                    <p *ngIf="isSubmitted && errorControl.mobile.errors?.required">\r\n                                        <ion-text color="danger" class="ion-margin">\r\n                                            Mobile Number is required\r\n                                        </ion-text>\r\n                                    </p>\r\n                                </ion-col>\r\n                            </ion-row>\r\n                            <ion-row *ngIf="!cotp">\r\n                                <ion-col>\r\n                                    <ion-list>\r\n                                        <ion-item lines="none" mode="md">\r\n                                            <ion-text>I provide my consent to DigiLocker to share my details with the NHA for the purpose of creating my Health ID.</ion-text>\r\n                                            <ion-checkbox slot="start" formControlName="consent" [attr.disabled]="cotp" [checked]="cChecked" required></ion-checkbox>\r\n                                        </ion-item>\r\n                                    </ion-list>\r\n                                    <p *ngIf="isSubmitted && errorControl.consent.errors?.required">\r\n                                        <ion-text color="danger" class="ion-margin">\r\n                                            {{"Consent " | translate}} {{"Req" | translate}}\r\n                                        </ion-text>\r\n                                    </p>\r\n                                </ion-col>\r\n                            </ion-row>\r\n                            <ion-row *ngIf="!cotp">\r\n                                <ion-col>\r\n                                    <ion-item lines="none">\r\n                                        <ion-label>\r\n                                            <ion-text routerLink="/uhid/create-using-aadhaar" routerDirection="forward" class="cursor ion-margin-left" color="primary">Register with aadhaar</ion-text>\r\n                                        </ion-label>\r\n                                    </ion-item>\r\n                                </ion-col>\r\n                            </ion-row>\r\n                            <ion-row *ngIf="cotp">\r\n                                <ion-col size-md="4" size="12">\r\n                                    <ion-item lines="none">\r\n                                        <ion-label>OTP</ion-label>\r\n                                    </ion-item>\r\n                                </ion-col>\r\n                                <ion-col size-md="8" size="12">\r\n                                    <ion-item lines="full">\r\n                                        <ion-input type="{{otpShow? \'text\': \'password\'}}" minlength="6" maxlength="6" (keypress)="ajax.numberOnlyValidation($event)" formControlName="otp" #otp>\r\n                                        </ion-input>\r\n                                        <ion-icon class="cursor" *ngIf="!errorControl.otp.pristine" (click)="changeType(\'otp\') " color="{{otpShow? \'primary\': \'dark\'}}" name="{{otpShow? \'eye\': \'eye-off\'}}" slot="end"></ion-icon>\r\n                                    </ion-item>\r\n                                    <p *ngIf="isSubmitted && errorControl.otp.errors?.required">\r\n                                        <ion-text color="danger" class="ion-margin">\r\n                                            OTP is required\r\n                                        </ion-text>\r\n                                    </p>\r\n                                    <ion-row>\r\n                                        <ion-col>\r\n                                            <ion-text *ngIf="otp" color="{{maxTime?\'dark\':\'primary\'}}">\r\n                                                {{(maxTime>0)?\'Wait for the OTP, if not received try resend otp after \'+maxTime+\' seconds\':\'\'}}\r\n\r\n                                            </ion-text>\r\n                                            <ion-text *ngIf="!maxTime && otp" (click)="resendOtp()" type="submit" fill="clear" size="small" class="cursor" color="primary">Resend OTP\r\n                                            </ion-text>\r\n                                        </ion-col>\r\n                                    </ion-row>\r\n                                </ion-col>\r\n                            </ion-row>\r\n                        </div>\r\n                        <ion-button type="submit" color="primary" class="ion-float-right">\r\n                            {{(uhidByMobileForm.value.otp)?\'Verify\':\'Continue\'}}</ion-button>\r\n                    </form>\r\n                </ion-card>\r\n                <p *ngIf="!otp" class="ion-text-center">Already have health ID?\r\n                    <ion-text routerLink="/uhid" routerDirection="root" class="cursor" color="primary">Get you Health ID card</ion-text>\r\n                </p>\r\n                <p *ngIf="otp && !maxTime " class="ion-text-center">Did not get OTP?\r\n                    <ion-text routerLink="/uhid/create-using-aadhaar" routerDirection="root" class="cursor" color="primary">Register with aadhaar</ion-text>\r\n                </p>\r\n            </ion-col>\r\n            <ion-col size-md="4" class="ion-no-padding" *ngIf="deviceSize">\r\n                <ion-card mode="ios" color="warning" class="ion-no-margin-top">\r\n                    <ion-card-content>\r\n                        <ion-text>\r\n                            <h4>Health ID is a hassle-free method of accessing your health records digitally. The Health ID can be used at a participating healthcare facility to receive your lab reports, prescriptions and diagnosis digitally.</h4>\r\n                            <a href="https://ndhm.gov.in/home/faq" target="_blank">Know More</a>\r\n                        </ion-text>\r\n                    </ion-card-content>\r\n                </ion-card>\r\n            </ion-col>\r\n        </ion-row>\r\n\r\n    </ion-grid>\r\n</ion-content>'},zvCb:function(i,o,t){"use strict";t.r(o),t.d(o,"CreateUsingMobilePageModule",(function(){return b}));var n=t("mrSG"),e=t("fXoL"),r=t("ofXK"),a=t("3Pt+"),s=t("TEn/"),l=t("sYmb"),d=t("tyNb"),c=t("sRcL"),h=t("AytR");let m=class{constructor(i,o,t,n){this.formBuilder=i,this.ajax=o,this.navCtlr=t,this.platform=n,this.deviceSize=this.platform.isLandscape(),this.profileData=[],this.isSubmitted=!1,this.cotp=!1,this.otp=!1,this.maxTime=120,this.verifyOtp=!1,this.respMsg=null,this.txnId=null,this.token=null,this.otpShow=!1}ngAfterViewChecked(){this.uhidByMobileForm.controls.mobile.valid||this.mobileElement.setFocus(),this.uhidByMobileForm.controls.otp.valid||this.otpElement.setFocus()}ngOnInit(){this.validationArray={mobile:[{value:"",disabled:!1},[a.f.required,a.f.pattern("^[0-9]+$"),a.f.maxLength(10),a.f.minLength(10)]],consent:[{value:null,disabled:!1},[a.f.required]],otp:[{value:"",disabled:!1},[]]},this.uhidByMobileForm=this.formBuilder.group(this.validationArray)}getProfileDetails(){return Object(n.b)(this,void 0,void 0,(function*(){yield this.ajax.postMethod(h.a.profile,"",{}).subscribe(i=>{this.profileData=i})}))}submitUhidByMobileForm(){if(this.isSubmitted=!0,!this.uhidByMobileForm.valid)return!1;{this.ajax.showLoader();let i={"content-type":"application/json"},o=this.uhidByMobileForm.value.otp?h.a.uhid_verify_mobile_otp:h.a.uhid_generate_mobile_otp,t=this.uhidByMobileForm.get("consent").value?"true":"false",n=this.uhidByMobileForm.value.otp?{otp:this.uhidByMobileForm.get("otp").value,txnId:this.txnId}:{mobile:this.uhidByMobileForm.get("mobile").value,consent:t};this.token;this.ajax.postMethod(o,n,i).subscribe(i=>{this.ajax.hideLoader(),null!=i.txnId?(this.isSubmitted=!1,this.txnId=i.txnId,this.cotp=!0,this.otp=!0,this.StartTimer(),this.validationArray.mobile=[{value:this.uhidByMobileForm.get("mobile").value,disabled:!0},[a.f.required,a.f.pattern("^[0-9]+$"),a.f.maxLength(10),a.f.minLength(10)]],this.validationArray.consent=[{value:this.uhidByMobileForm.get("consent").value,disabled:!1},[a.f.required]],this.validationArray.otp=["",[a.f.required,a.f.pattern("^[0-9a-zA-Z]+$"),a.f.maxLength(6),a.f.minLength(6)]],this.uhidByMobileForm=this.formBuilder.group(this.validationArray)):null!=i.token&&(this.token=i.token,this.verifyOtp=!0,this.navCtlr.navigateForward("uhid/create-using-mobile/form",{state:{token:this.token,txnId:this.txnId,profile:this.profileData}}))})}}get errorControl(){return this.uhidByMobileForm.controls}changeType(i){this.otpShow=!this.otpShow}resendOtp(){this.respMsg=null,this.uhidByMobileForm.value.otp="",this.maxTime=120,this.ajax.showLoader("");let i=h.a.uhid_regenerate_mobile_otp,o={txnId:this.txnId};this.ajax.postMethod(i,o,{"content-type":"application/json"}).subscribe(i=>{this.isSubmitted=!1,this.ajax.hideLoader(),this.respMsg=i,this.StartTimer()})}StartTimer(){setTimeout(i=>{this.maxTime>0&&(this.StartTimer(),this.maxTime=this.maxTime-1)},1e3)}dismiss(){this.navCtlr.back()}};m.ctorParameters=()=>[{type:a.a},{type:c.a},{type:s.i},{type:s.k}],Object(n.c)([Object(e.nb)("mobile")],m.prototype,"mobileElement",void 0),Object(n.c)([Object(e.nb)("otp")],m.prototype,"otpElement",void 0),m=Object(n.c)([Object(e.n)({selector:"app-create-using-mobile",template:Object(n.f)(t("iAnF")).default,styles:[Object(n.f)(t("WVvX")).default]})],m);const u=[{path:"",component:m},{path:"form",loadChildren:()=>t.e(47).then(t.bind(null,"an/o")).then(i=>i.FormPageModule)}];let p=class{};p=Object(n.c)([Object(e.M)({imports:[d.i.forChild(u)],exports:[d.i]})],p);let b=class{};b=Object(n.c)([Object(e.M)({imports:[r.b,a.b,a.e,s.d,l.b.forChild(),p],declarations:[m]})],b)}}]);